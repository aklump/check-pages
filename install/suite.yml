# Load the homepage of the website.
- url: /

  # This can be omitted if it is 200, if you expect any other HTTP status code
  # you must enter it here or this URL test will fail.
  expect: 200

  # Now that the URL is loaded you may make assertions using simple find, DOM
  # find, or RegEx matching.
  find:
    - dom: p
      count: ">= 2"

    - dom: p
      count: "< 2000"

    # Locate the following text, at least once, anywhere in the page content.
    - Custom DRUPAL Modules, Themes and Web Apps
    - Welcome to the website for In the Loft Studios.  My name is Aaron Klump. I've been developing websites for over 15 years and have spent over half of that time immersed in Drupal.

    # An example using a RegEx expression against the entire page content.  MAKE
    # SURE TO USE SINGLE QUOTES WHEN YOU ARE ENTERING REGEX EXPRESSION, DOUBLE
    # QUOTES WILL CAUSE PROBLEMS. YOU ALSO MUST ESCAPE CHARACTERS AS
    # APPROPRIATE.
    - match: '/Copyright &copy; 2000\-\d{4} In the Loft Studios, PO Box 29294, Bellingham, WA/'

    # Assertions in the DOM using CSS selectors.
    - dom: '#logo img'
      count: 1

    # Notice the use or `text` vs. `exact` for accessing the contents of a DOM
    # find as either plaintext or markup respectively.
    - dom: h1.page-title
      text: About In the Loft Studios
    - dom: h1.page-title
      exact: '<span>About In the Loft Studios</span>'

    # Case-insensitive RegEx match against the markup of #footer.
    - dom: '#footer'
      match: '/in the loft studios/i'

    # Make sure the hero image alt tag is correct.
    - dom: '[alt="Aaron Klump, In the Loft Studios, Drupal solutions in Bellingham, WA"]'
      count: 1

    # Make sure no forms appear on the homepage.
    - dom: form
      count: 0

    # XPath can also be used to location things
    - xpath: '(//*[contains(@class, "block-title")])[1]'
      text: Latest Blog Post

# Load the contact page and make sure the submit button is available.
- url: /contact
  find:
    - dom: '#content #edit-submit'
      count: 1


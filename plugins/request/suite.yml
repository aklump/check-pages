-
  why: Assert ${request.method} returns 405
  visit: /test_subject.php
  request:
    methods: [ PATCH, DELETE, HEAD, OPTIONS, TRACE ]
  expect: 405

-
  why: Assert post with content-type header and body works as expected.
  visit: /test_subject.php
  request:
    method: post
    headers:
      content-type: application/json
    body: '{"foo":"bar"}'
  find:
    - 'POST'
    - 'content-type: application/json'
    - '{"foo":"bar"}'

-
  visit: /test_subject.php
  request:
    method: GET
    body: 'lorem ipsum'
  find:
    - 'GET'
    - 'lorem ipsum'

-
  why: Assert put with multiple headers and body works as expected.
  visit: /test_subject.php
  request:
    method: PUT
    headers:
      content-type: application/x-www-form-urlencoded
      accept: application/json, application/xml
    body: 'foo=bar&do=re'
  find:
    - 'PUT'
    - "content-type: application/x-www-form-urlencoded"
    - "accept: application/json, application/xml"
    - 'foo=bar&do=re'


<!DOCTYPE html>

<html>
<head>
  <title>Testing with Javascript</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--javascript">
<header>
  <div class="pager"><a href="headers.html" class="prev headers">&laquo;Response Header Assertions</a><a href="index.html" class="index pager__book-title">Check Pages</a><a href="why.html" class="next why">Using `why` For Better Clarity&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>


<h1>Testing with Javascript</h1>

<section>

<h2>Javascript Testing Requirements</h2>

<ul>
<li>Your testing machine must have Chrome installed.</li>
</ul>

<h2>Javascript Testing Setup</h2>

<p>To support JS testing, you must indicate where your Chrome binary is located in
your runner configuration file, like so:</p>

<pre><code class="yaml">chrome: /Applications/Google Chrome.app/Contents/MacOS/Google Chrome
</code></pre>

<h2>Enable Javascript per Test</h2>

<p>Unless you enable it, or in the case the selector type (i.e., <code>style</code>
, <code>javascript</code>) requires it, javascript is not run during testing. If you need
to assert that an element exists, which was created from Javascript (or
otherwise need javascript to run on the page), you will need to indicate the
following in your test, namely <code>js: true</code>.</p>

<pre><code class="yaml">-
  visit: /foo
  js: true
  find:
    -
      dom: .js-created-page-title
      text: Javascript added me to the DOM!
</code></pre>

<h2>Asserting Javascript Evaluations</h2>

<p>Let's say you want to assert the value of the URL fragment. You can do that with
the <code>javascript</code> selector. The value of <code>javascript</code> should be the expression to
evaluate, once the page loads. Notice that you may omit the <code>js: true</code> as it
will be set automatically.</p>

<pre><code class="yaml">-
  visit: /foo
  find:
    -
      javascript: location.hash
      is: "#top"
</code></pre>

<h2>Javascript Testing Related Links</h2>

<ul>
<li><a href="https://chromedevtools.github.io/devtools-protocol/1-3/">Chrome DevTools Protocol 1.3</a></li>
<li><a href="https://developers.google.com/web/updates/2017/04/headless-chrome">Learn more</a></li>
<li><a href="https://source.chromium.org/chromium/chromium/src/+/master:headless/app/headless_shell_switches.cc">CLI parameters</a></li>
<li><a href="https://developers.google.com/web/updates/2017/04/headless-chrome#command_line_features">More on parameters</a></li>
<li>https://github.com/GoogleChrome/chrome-launcher</li>
<li><a href="https://peter.sh/experiments/chromium-command-line-switches/">https://peter.sh/experiments/chromium-command-line-switches/</a></li>
<li>https://raw.githubusercontent.com/GoogleChrome/chrome-launcher/v0.8.0/scripts/download-chrome.sh</li>
</ul>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="headers.html" class="prev headers">&laquo;Response Header Assertions</a><a href="index.html" class="index pager__book-title">Check Pages</a><a href="why.html" class="next why">Using `why` For Better Clarity&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.13.0 &bull; Last Updated: Thu, 08 Jul 2021 12:56:24 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>


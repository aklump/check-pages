<!DOCTYPE html>

<html>
<head>
  <title>Testing Forms</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--plugin_form">
<header>
  <div class="pager"><a href="demo--json_schema.html" class="prev demo--json_schema">&laquo;Testing APIs with JSON Schema</a><a href="index.html" class="index pager__book-title">Check Pages</a><a href="demo--header.html" class="next plugin_header">Testing Response Headers&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
                        <a href="demo--javascript2.html">Usage and Examples</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>

<section>
  <h1>Testing Forms</h1>
  

<p>The form plugin allows you to test the submission of forms.</p>

<h2>Submit</h2>

<p>The submit is a special <code>dom</code> selector in that it uses the form as the root, so you can only select elements inside the form AND you should omit any reference to the form element, as it will be prepended automatically.</p>

<h2>Setting Form Values</h2>

<p>To pass a custom form value, add an object to the <code>input</code> array as shown below. It must have the keys <code>name</code> and <code>value</code>, where <code>name is the</code>name` attribute of the form element.</p>

<h2>Pass Through Form Values</h2>

<p>At least for Drupal forms, there are several hidden fields that must be submitted with the form for it to be valid. You indicate these pass through variables by listing the HTML input names as string values in the <code>input</code> array, as shown in the Drupal example.</p>

<h2>Example Tests</h2>

<pre><code class="yaml">-
  why: Demonstrate the simplest Form plugin syntax.
  url: /test_subject.php
  form:
    dom: .form-a
  find:
    -
      dom: .messages
      text: Form A

-
  why: Demonstrate using the submit property to choose the button.
  url: /test_subject.php
  form:
    dom: .form-b
    submit: '.form-save'
  find:
    -
      dom: .messages
      text: Save

-
  why: Demonstrate using the submit property to choose a different button.
  url: /test_subject.php
  form:
    dom: .form-b
    submit: '.form-delete'
  find:
    -
      dom: .messages
      text: Delete

-
  why: Demonstrate using input to include existing form values.
  url: /test_subject.php
  form:
    dom: .form-b
    input:
      - message
  find:
    -
      dom: .messages
      text: Form B

-
  why: Demonstrate posting values.
  url: /test_subject.php
  form:
    dom: .form-b
    input:
      -
        name: message
        value: Extra
      -
        name: first_name
        value: Frank
  find:
    -
      dom: .messages
      text: Extra

-
  why: Demonstrate how to work with a Drupal form.
  url: /test_subject.php
  form:
    dom: .drupal-form
    input:

      # Drupal requires these hidden form values to be submitted to validate.
      - form_id
      - form_build_id
      - form_token

      # And here is where we are posting new information to the form.
      -
        name: field_amount[0][value]
        value: $19.99

    # This is optional, but may help with readability.
    submit: '#edit-submit'

  find:
    -
      why: Assert the new value $19.99 is received by the form handler.
      dom: .messages
      is: $19.99

</code></pre>

<p><em>Provided by the form plugin.</em></p>

</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="demo--json_schema.html" class="prev demo--json_schema">&laquo;Testing APIs with JSON Schema</a><a href="index.html" class="index pager__book-title">Check Pages</a><a href="demo--header.html" class="next plugin_header">Testing Response Headers&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.15.2 &bull; Last Updated: Sat, 16 Apr 2022 17:54:06 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>
